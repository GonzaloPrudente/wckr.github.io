$(function(){(function a(){var b=$(".js-site-content");var c=b.height();var f=$(".js-site-main");var l=f.find("h2");var k=$(".js-site-footer");var g=k.offset().top;
var d=$(".js-site-aside");var p=$(".js-site-nav");var e=p.children("ul");var j=$(".js-affix");var o=j.width();var h=j.height();var n=j.offset().top;var i=$(window).scrollTop();
var m,q;l.each(function(){m=l.index(this);q=$(this).text();$(this).attr("id","h2-"+m);e.append('<li><a href="#h2-'+m+'">'+q+"</a></li>");});e.on("click","li",function(){e.children("li").removeClass("active");
$(this).addClass("active");});d.css({height:c+"px"});j.css({width:o+"px"});$(window).on("scroll",function(){i=$(window).scrollTop();h=j.height();console.log("scrlTop: "+i+", affixTop: "+n+", footerTop: "+g+", affixH: "+h);
if(i>n&&i<=(g-h)){j.removeClass("affix-bottom").addClass("affix");}else{if(i>n&&i>(g-h)){j.removeClass("affix").addClass("affix-bottom");}else{j.removeClass("affix");
}}});})();});